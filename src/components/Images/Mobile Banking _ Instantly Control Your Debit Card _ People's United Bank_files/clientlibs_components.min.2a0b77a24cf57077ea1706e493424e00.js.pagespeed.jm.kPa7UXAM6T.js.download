var leftCoulmnTemplate='\x3cdiv class\x3d"pubui-submenu-promo1-caption"\x3e\x3cspan class\x3d"pubui-submenu-promo1-caption-title"\x3e{{leftText}}\x3c/span\x3e\x3c/div\x3e{{cta-button}}\x3c/div\x3e',ctaButton='\x3ca href\x3d"{{leftLink}}" class\x3d"btn btn-primary pubui-button pubui-btn-primary-outline dtm-headerfooter-tracking" dtm-headerfooter-tracktext\x3d"target:{{name}}:leftcol:{{leftButton}}" dtm-headerfooter-tracklinkstatus\x3d"true" \x3e{{leftButton}}\x3c/a\x3e',promoTemplate='\x3cdiv class\x3d"pubui-promo-section2"\x3e \x3cdiv class\x3d"pubui-promo-section-image"\x3e \x3cimg src\x3d"{{promo1image}}" alt\x3d"Promo - {{promo1title}}"\x3e \x3c/div\x3e\x3cdiv class\x3d"pubui-promo-section-caption"\x3e \x3cspan class\x3d"pubui-promo-section-caption-title"\x3e{{promo1title}}\x3c/span\x3e \x3cp\x3e{{promo1description}}\x3c/p\x3e {{promo1ctaButton}}\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"pubui-promo-section2 pubui-margin-top-40"\x3e \x3cdiv class\x3d"pubui-promo-section-image"\x3e \x3cimg src\x3d"{{promo2image}}" alt\x3d"Promo - {{promo2title}}"\x3e \x3c/div\x3e\x3cdiv class\x3d"pubui-promo-section-caption"\x3e\x3cspan class\x3d"pubui-promo-section-caption-title"\x3e{{promo2title}}\x3c/span\x3e \x3cp\x3e{{promo2description}}\x3c/p\x3e {{promo2ctaButton}} \x3c/div\x3e\x3c/div\x3e',promo1ctaButton='\x3ca href\x3d"{{promo1link}}" class\x3d"pubui-link dtm-headerfooter-tracking" dtm-headerfooter-tracktext\x3d"target:{{name}}:promo1:{{promo1button}}" dtm-headerfooter-tracklinkstatus\x3d"true"\x3e{{promo1button}}\x3c/a\x3e',promo2ctaButton='\x3ca href\x3d"{{promo2link}}" class\x3d"pubui-link dtm-headerfooter-tracking" dtm-headerfooter-tracktext\x3d"target:{{name}}:promo2:{{promo2button}}" dtm-headerfooter-tracklinkstatus\x3d"true"\x3e{{promo2button}}\x3c/a\x3e',jsonData="",identifier,megamenuLeftCol=[{}],megamenuPromo=[{}],i,mboxName=$(".target-data-mbox").attr("data-mbox");void 0==window.sessionStorage[mboxName]||"clearCache"==window.sessionStorage[mboxName]?adobe.target.getOffer({mbox:$(".target-data-mbox").attr("data-mbox"),success:function(a){jsonData=digiDataPUB.login.offer=a[0].content[0];console.log("loading offer from target");window.sessionStorage[mboxName]=JSON.stringify(jsonData);prepareContent(jsonData)},error:function(a,b){console.log("Error",a,b)}}):(console.log("display offer from session storage"),prepareContent(JSON.parse(window.sessionStorage[mboxName])));function prepareLeftCoulmn(a,b){var c="";a.leftColumn.leftButton&&(c=ctaButton.replace("{{leftButton}}",a.leftColumn.leftButton).replace("{{leftLink}}",a.leftColumn.leftLink).replace("{{name}}",a.name).replace("{{leftButton}}",a.leftColumn.leftButton));return b=b.replace("{{leftText}}",a.leftColumn.leftText).replace("{{cta-button}}",c)}function preparePromo(a,b){var c="",d="";a.promo1.promo1button&&(c=promo1ctaButton.replace("{{promo1link}}",a.promo1.promo1link).replace("{{promo1button}}",a.promo1.promo1button).replace("{{promo1button}}",a.promo1.promo1button).replace("{{name}}",a.name));a.promo2.promo2button&&(d=promo2ctaButton.replace("{{promo2link}}",a.promo2.promo2link).replace("{{promo2button}}",a.promo2.promo2button).replace("{{promo2button}}",a.promo2.promo2button).replace("{{name}}",a.name));return b=b.replace(/{{promo1title}}/g,a.promo1.promo1title).replace("{{promo1description}}",a.promo1.promo1description).replace("{{promo1image}}",a.promo1.promo1image).replace(/{{promo2title}}/g,a.promo2.promo2title).replace("{{promo1ctaButton}}",c).replace("{{promo2ctaButton}}",d).replace("{{promo2description}}",a.promo2.promo2description).replace("{{promo2image}}",a.promo2.promo2image)}function displayContent(a,b,c){$("#megamenu-target-promos-"+c).append(b);$("#megamenu-target-leftcolumn-"+c).append(a)}function prepareContent(a){for(i=0;i<Object.keys(a).length;i++){var b=prepareLeftCoulmn(a[i],leftCoulmnTemplate),c=preparePromo(a[i],promoTemplate);displayContent(b,c,a[i].name)}};